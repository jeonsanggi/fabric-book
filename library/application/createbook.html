<!DOCTYPE html>
<html>
<head>
  <title>CreateBook Page</title>
</head>
<body>
  <h1>CreateBook Page</h1>
  <hr />
  <form method="post" id="bookData">
    <table>
      <tr>
        <td><label>BookName</label></td>
        <td><input type="text" name="bookname" /></td>
      </tr>
      <tr>
        <td><label>Author</label></td>
        <td><input type="text" name="author" /></td>
      </tr>
      <tr>
        <td><label>Publisher</label></td>
        <td><input type="text" name="publisher" /></td>
      </tr>
      <tr>
        <td><label>Location</label></td>
        <td><input type="text" name="location" /></td>
      </tr>
      <tr>
        <td><label>Library</label></td>
        <td><input type="text" name="library" /></td>
      </tr>
    </table>
   <input type="button" onclick="createBook()" value="책 추가" />
  </form>
  <button type="button" onclick="location.href='/'">홈으로</button>
  <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
  <script>
    function createBook(){
      var bookData = $('#bookData').serialize();

      $.ajax({
        method:'post',
        url:'/api/createbook/',
        dataType:'json',
        data:bookData,
        error: function(request,status,error){
          alert('오류가 발생하여 책 추가를 실패하였습니다.');
          
        },
        success: function(data){
          alert('책 추가 성공하였습니다.');
        }
      });
    }
  </script>
</body>
</html>
